# Cultural Evolution

This game skeleton takes a game and turns it into an evolutionary model. Its arguments are a game generator, a number of loops, an optional parameters.

```js
var gameGenerator = //... some function which returns a playable
var numLoops = 1
var parameters = {}

var CE = StockGames["Cultural Evolution"](gameGenerator, numLoops, parameters)

CE.play()
```

* `gameGenerator` - a function which returns a _Playable_. However, `Cultural Evolution` will not supply this generator with any arguments (see below).
* `numLoops` - the number of times to loop the model. Defaults to 1.
* `parameters` - optional parameters object. Parameters are
 * 	`id:'CulturalEvolution'` - the id of the _playable_ returned.
 *  `gameProbability:.25` - The number of matches is this number times the alive population.
 * `pairProbability:.25` - The number of pair meetings is this number times the alive population.
 * `generatePopulation:null` - If supply a function here, then `CE` will run this function when it is first loaded. Just a convenience.
 * `loop:true` - if false, then `CE` will return a `Sequence` instead of a `Loop`. Use this if `numLoops` is 1 if you'd like to make the game history a little neater.

`Cultural Evolution` is a loop which happens in stages. Those stages are
* **Reset** - scores are set to zero
* **Match** - the games generated by the `gameGenerator` are executed
* **Cultural transmission** - players are paired randomly and their scores are compared. The player with the lower score switches to the strategy of the player with the higher score.

**Critically important**: `gameGenerator` is run when `CE` is loaded, i.e. _before_ the game is played, and no arguments are passed to it. That means that if you want it to not be the same players repeating the game over and over, you should construct the game using `RandomPlayerChoice` rather than the normal `Choice` _playable_. `RandomPlayerChoice` will select an available player at random during play-time, so the multiple copies generated by the gameGenerator will have a different set of players each time they are run.
